<?xml version="1.0" encoding="UTF-8" standalone="no"?><templates><template autoinsert="true" context="ABAP" deleted="false" description="Aunit" enabled="true" name="Aunit">"! &lt;p class="shorttext synchronized" lang="en"&gt;ABAP Unit Test Class&lt;/p&gt;&#13;
CLASS lcl_aunit DEFINITION&#13;
  FINAL&#13;
  CREATE PUBLIC&#13;
  FOR TESTING RISK LEVEL HARMLESS.&#13;
&#13;
  PRIVATE SECTION.&#13;
    TYPES: BEGIN OF s_tdc_data,&#13;
             lgnum TYPE /scwm/lgnum,&#13;
           END OF s_tdc_data.&#13;
&#13;
    CONSTANTS: mc_tdc_cnt           TYPE etobj_name VALUE '${ZCL_UNDER_TEST}',&#13;
               mc_tdc_dflt_var_name TYPE etvar_id   VALUE 'ECATTDEFAULT'.&#13;
    CLASS-DATA: mo_tdc          TYPE REF TO cl_apl_ecatt_tdc_api,&#13;
                mv_tdc_var_name TYPE etvar_id,&#13;
                ms_tdc_data     TYPE s_tdc_data.&#13;
&#13;
    CLASS-METHODS:&#13;
      class_setup&#13;
        RAISING&#13;
          cx_ecatt_tdc_access,&#13;
      class_teardown.&#13;
&#13;
    METHODS:&#13;
      setup,&#13;
      teardown.&#13;
&#13;
    METHODS ${t0001} FOR TESTING RAISING cx_static_check.&#13;
&#13;
ENDCLASS.&#13;
&#13;
&#13;
&#13;
CLASS lcl_aunit IMPLEMENTATION.&#13;
&#13;
  METHOD class_setup.&#13;
&#13;
    mo_tdc = cl_apl_ecatt_tdc_api=&gt;get_instance( i_testdatacontainer = mc_tdc_cnt ).&#13;
    &#13;
	mv_tdc_var_name = |{ sy-sysid }{ sy-mandt }|.&#13;
    DATA(lt_tdc_var) = mo_tdc-&gt;get_variant_list( ).&#13;
    IF NOT line_exists( lt_tdc_var[ table_line = mv_tdc_var_name ] ).&#13;
      mv_tdc_var_name = mc_tdc_dflt_var_name.&#13;
    ENDIF.&#13;
&#13;
    LOOP AT mo_tdc-&gt;get_variant_content( mv_tdc_var_name ) ASSIGNING FIELD-SYMBOL(&lt;ls_tdc_var_content&gt;).&#13;
      ASSIGN COMPONENT &lt;ls_tdc_var_content&gt;-parname OF STRUCTURE ms_tdc_data TO FIELD-SYMBOL(&lt;lv_tdc_value&gt;).&#13;
      CHECK &lt;lv_tdc_value&gt; IS ASSIGNED.&#13;
      ASSIGN &lt;ls_tdc_var_content&gt;-value_ref-&gt;* TO FIELD-SYMBOL(&lt;lv_tdc_var_value&gt;).&#13;
      CHECK &lt;lv_tdc_var_value&gt; IS ASSIGNED.&#13;
      &lt;lv_tdc_value&gt; = &lt;lv_tdc_var_value&gt;.&#13;
      UNASSIGN: &lt;lv_tdc_value&gt;, &lt;lv_tdc_var_value&gt;.&#13;
    ENDLOOP.&#13;
&#13;
    /scwm/cl_tm=&gt;set_lgnum( ms_tdc_data-lgnum ).&#13;
&#13;
  ENDMETHOD.&#13;
&#13;
&#13;
  METHOD class_teardown.&#13;
  ENDMETHOD.&#13;
&#13;
&#13;
  METHOD setup.&#13;
  ENDMETHOD.&#13;
&#13;
&#13;
  METHOD teardown.&#13;
  ENDMETHOD.&#13;
&#13;
&#13;
  METHOD ${t0001}.&#13;
&#13;
    CHECK 1 = 2. ##DEACTIVATED.&#13;
&#13;
    cl_abap_unit_assert=&gt;assert_equals( act = 1&#13;
                                        exp = 1 ).&#13;
&#13;
  ENDMETHOD.&#13;
&#13;
ENDCLASS.</template></templates>